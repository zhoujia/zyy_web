webpackJsonp([10],{1069:function(e,t,n){n(1143);var o=n(438)(n(1108),n(1122),"data-v-0650ba4c",null);o.options.__file="D:\\eeeee\\zyy_web\\src\\components\\layout.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] layout.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},1108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(283),s=(n.n(o),n(186));n.n(s);t.default={data:function(){return{isCollapsed:!1,user:n.i(s.readUser)(),tagBodyLeft:0,outerPadding:4,title:"首页",activeMenuName:"home",openMenuName:[],menus:[{title:"首页",num:1,name:"Home",icon:"md-home",href:"/admin",closable:!1,showInTags:!0,showInMenus:!0,choosed:!0},{title:"个人信息",name:"UserInfo",icon:"ios-contact",href:"/admin/UserInfo",closable:!0,showInTags:!1,showInMenus:!0,choosed:!1},{title:"用户管理",name:"User",icon:"ios-people",href:"/admin/User",closable:!0,showInTags:!1,showInMenus:!0,choosed:!1},{title:"系统设置",name:"Seting",icon:"md-settings",href:"/admin/Seting",closable:!0,showInTags:!1,showInMenus:!0,choosed:!1}]}},computed:{tags:function(){var e=[];return this.menus.forEach(function(t){t.showInTags?e.push(t):t.children&&t.children.forEach(function(t){t.showInTags&&e.push(t)})}),console.log("tags=>",e),e.sort(function(e,t){return e.num-t.num}),e},rotateIcon:function(){return["menu-icon",this.isCollapsed?"rotate-icon":""]},menuitemClasses:function(){return["menu-item",this.isCollapsed?"collapsed-menu":""]}},beforeRouteEnter:function(e,t,n){n(function(e){var t=localStorage.activeMenuName;e.activeMenuName=t;var n=e.tags[e.tags.length-1].num;t&&0!=t.length&&e.menus.forEach(function(o){t==o.name?(o.choosed=!0,o.showInTags=!0,o.num=n+1):o.children?o.children.forEach(function(s){t==s.name&&(s.choosed=!0,s.showInTags=!0,s.num=n+1,e.openMenuName=[o.name])}):"home"!=o.name?(o.choosed=!1,o.showInTags=!1):o.choosed=!1})})},methods:{handlescroll:function(e){var t=e.type,n=0;"DOMMouseScroll"!==t&&"mousewheel"!==t||(n=e.wheelDelta?e.wheelDelta:40*-(e.detail||0)),this.handleScroll(n)},handleScroll:function(e){var t=this.$refs.scrollOuter.offsetWidth,n=this.$refs.scrollBody.offsetWidth;e>0?this.tagBodyLeft=Math.min(0,this.tagBodyLeft+e):t<n?this.tagBodyLeft<-(n-t)?this.tagBodyLeft=this.tagBodyLeft:this.tagBodyLeft=Math.max(this.tagBodyLeft+e,t-n):this.tagBodyLeft=0},quit:function(){var e=this,t=this;this.$Modal.confirm({title:"您确定退出系统",content:"当前用户"+t.user+"，是否继续退出系统？",onOk:function(){n.i(s.deleteToken)(),n.i(s.deleteUser)(),e.$store.commit("del_token"),void 0==n.i(s.readUser)()&&(t.$Message.success("用户退出系统成功！"),setTimeout(function(){t.$router.replace({path:"/Login"})},500))},onCancel:function(){}})},clickNotice:function(){this.choosedMenu("notice")},collapsedSider:function(){this.$refs.side1.toggleCollapse()},closeTag:function(e,t){var n=!1;if(this.menus.forEach(function(e,o){e.name==t?(n=e.choosed,e.showInTags=!1):e.children&&e.children.forEach(function(e){e.name==t&&(n=e.choosed,e.showInTags=!1)})}),n){var o=this.tags[this.tags.length-1];o.choosed=!0,this.$router.push(o.href),this.activeMenuName=o.name,localStorage.activeMenuName=this.activeMenuName}},clickTag:function(e){var t=this;this.tags.forEach(function(t){t.name==e.name?t.choosed=!0:t.choosed=!1}),this.activeMenuName=e.name,localStorage.activeMenuName=this.activeMenuName,this.$nextTick(function(){t.$refs.side_menu&&t.$refs.side_menu.updateActiveName()}),this.$router.push(""+e.href)},choosedMenu:function(e){var t=this.tags[this.tags.length-1].num;this.activeMenuName=e,localStorage.activeMenuName=this.activeMenuName;var n=null;this.menus.forEach(function(o){o.name==e?(o.showInTags||(o.num=t+1),n=o,o.showInTags=!0,o.choosed=!0):o.children?o.children.forEach(function(s){s.name==e?(o.showInTags||(s.num=t+1),n=s,s.showInTags=!0,s.choosed=!0):s.choosed=!1}):o.choosed=!1}),this.$router.push(""+n.href)},dropdownClick:function(e){this.choosedMenu(e)},moveToView:function(e){console.log("move");var t=this.$refs.scrollOuter.offsetWidth;this.$refs.scrollBody.offsetWidth<t?this.tagBodyLeft=0:e.offsetLeft<-this.tagBodyLeft?this.tagBodyLeft=-e.offsetLeft+this.outerPadding:e.offsetLeft>-this.tagBodyLeft&&e.offsetLeft+e.offsetWidth<-this.tagBodyLeft+t?this.tagBodyLeft=Math.min(0,t-e.offsetWidth-e.offsetLeft-this.outerPadding):this.tagBodyLeft=-(e.offsetLeft-(t-this.outerPadding-e.offsetWidth))},getTagElementByName:function(e){var t=this;this.$nextTick(function(){t.refsTag=t.$refs.tagsPageOpened,console.log("nextTick"),t.refsTag.forEach(function(s,i){if(console.log(s),n.i(o.routeEqual)(e,s.$attrs["data-route-item"])){var a=t.refsTag[i].$el;t.moveToView(a)}})})}},watch:{$route:function(e){this.getTagElementByName(e)}}}},1122:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"admin-layout-container"},[n("div",{staticClass:"layout"},[n("Layout",[n("Sider",{ref:"side1",staticStyle:{background:"rgb(73, 80, 96)"},attrs:{"hide-trigger":"",collapsible:"","collapsed-width":78},model:{value:e.isCollapsed,callback:function(t){e.isCollapsed=t},expression:"isCollapsed"}},[n("div",{staticClass:"logo"},[n("Avatar",{attrs:{title:e.user,icon:"ios-person",size:"large"}}),e._v(" "),e.isCollapsed?e._e():n("span",{staticStyle:{"margin-left":"15px",color:"#fff"}},[e._v(e._s(e.user))])],1),e._v(" "),e.isCollapsed?e._e():n("Menu",{ref:"side_menu",class:e.menuitemClasses,attrs:{"active-name":e.activeMenuName,"open-names":e.openMenuName,theme:"dark",width:"100%"},on:{"on-select":e.choosedMenu}},[e._l(e.menus,function(t,o){return[t.children?n("Submenu",{attrs:{name:t.name}},[n("template",{slot:"title"},[n("Icon",{attrs:{size:20,type:t.icon}}),e._v("\n                "+e._s(t.title)+"\n              ")],1),e._v(" "),e._l(t.children,function(t,o){return n("MenuItem",{key:o,attrs:{name:t.name}},[n("Icon",{attrs:{size:20,type:t.icon}}),e._v("\n              "+e._s(t.title)+"\n              ")],1)})],2):e._e(),e._v(" "),!t.children&&t.showInMenus?n("MenuItem",{attrs:{name:t.name}},[n("Icon",{attrs:{size:20,type:t.icon}}),e._v("\n            "+e._s(t.title)+"\n            ")],1):e._e()]})],2),e._v(" "),n("div",{staticClass:"dropdown-wrap"},[e._l(e.menus,function(t,o){return e.isCollapsed?[t.children?n("Dropdown",{attrs:{transfer:"",placement:"right-start"},on:{"on-click":e.dropdownClick}},[n("Button",{staticStyle:{width:"85px","margin-left":"-5px",padding:"10px 0"},attrs:{type:"text"}},[n("Icon",{attrs:{size:25,color:"#fff",type:t.icon}})],1),e._v(" "),n("DropdownMenu",{staticStyle:{width:"200px"},attrs:{slot:"list"},slot:"list"},[e._l(t.children,function(t,o){return[n("DropdownItem",{attrs:{name:t.name}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("Icon",{attrs:{size:16,type:t.icon}}),e._v(" "),n("span",{staticStyle:{"padding-left":"10px"}},[e._v("\n                        "+e._s(t.title)+"\n                      ")])],1)])]})],2)],1):e._e(),e._v(" "),!t.children&&t.showInMenus?n("Dropdown",{attrs:{transfer:"",placement:"right-start"},on:{"on-click":e.dropdownClick}},[n("Button",{staticStyle:{width:"85px","margin-left":"-5px",padding:"10px 0"},attrs:{type:"text"}},[n("Icon",{attrs:{size:25,color:"#fff",type:t.icon}})],1),e._v(" "),n("DropdownMenu",{staticStyle:{width:"200px"},attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:t.name}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("Icon",{attrs:{size:16,type:t.icon}}),e._v(" "),n("span",{staticStyle:{"padding-left":"10px"}},[e._v("\n                      "+e._s(t.title)+"\n                    ")])],1)])],1)],1):e._e()]:e._e()})],2)],1),e._v(" "),n("Layout",[n("Header",{staticClass:"layout-header-bar",style:{position:"fixed",width:e.isCollapsed?"calc(100% - 78px)":"calc(100% - 200px)",padding:0,display:"flex",flexDirection:"column",zIndex:20}},[n("div",{staticStyle:{display:"flex","align-tems":"center","justify-content":"space-between",position:"relative",height:"60px","line-height":"60px","z-index":"1","box-shadow":"0 2px 1px 1px rgba(100, 100, 100, 0.1)"}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("Icon",{class:e.rotateIcon,style:{margin:"0 20px 0"},attrs:{type:"md-menu",size:"24"},nativeOn:{click:function(t){return e.collapsedSider(t)}}}),e._v(" "),n("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[e._v("中医药大学大数据分析后台管理系统")])],1),e._v(" "),n("div",{staticStyle:{"margin-right":"20px"}},[n("Button",{attrs:{type:"text",icon:"ios-home",to:"/",size:"large"}},[e._v("前台首页")]),e._v(" "),n("Button",{attrs:{type:"text",icon:"ios-log-out",size:"large"},on:{click:e.quit}},[e._v("退出系统")])],1)]),e._v(" "),n("div",{staticClass:"tags-nav"},[n("div",{staticClass:"btn-con left-btn"},[n("Button",{attrs:{type:"text"},on:{click:function(t){return e.handleScroll(240)}}},[n("Icon",{attrs:{size:18,type:"ios-arrow-back"}})],1)],1),e._v(" "),n("div",{staticClass:"btn-con right-btn"},[n("Button",{attrs:{type:"text"},on:{click:function(t){return e.handleScroll(-240)}}},[n("Icon",{attrs:{size:18,type:"ios-arrow-forward"}})],1)],1),e._v(" "),n("div",{ref:"scrollOuter",staticClass:"scroll-outer",on:{DOMMouseScroll:e.handlescroll,mousewheel:e.handlescroll}},[n("div",{ref:"scrollBody",staticClass:"scroll-body",style:{left:e.tagBodyLeft+"px"}},[n("transition-group",{attrs:{name:"taglist-moving-animation"}},e._l(e.tags,function(t,o){return n("Tag",{key:"tag-nav-"+o,ref:"tagsPageOpened",refInFor:!0,attrs:{type:"dot",name:t.name,"data-route-item":t,closable:t.closable,color:t.choosed?"blue":"#e9eaec"},on:{"on-close":e.closeTag},nativeOn:{click:function(n){return e.clickTag(t)}}},[e._v(e._s(t.title))])}),1)],1)])])]),e._v(" "),n("Content",{style:{height:"calc(100% - 100px)",position:"absolute",top:"100px",overflow:"auto",padding:"10px",width:e.isCollapsed?"calc(100% - 78px)":"calc(100% - 200px)"}},[n("keep-alive",[n("router-view")],1)],1)],1)],1)],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0},1143:function(e,t){}});